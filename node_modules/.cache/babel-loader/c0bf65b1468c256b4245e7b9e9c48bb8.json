{"ast":null,"code":"import _defineProperty from\"/Users/joeverghese/2023/joinTheBand/joinTheBand/jointheband/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/joeverghese/2023/joinTheBand/joinTheBand/jointheband/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/joeverghese/2023/joinTheBand/joinTheBand/jointheband/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/joeverghese/2023/joinTheBand/joinTheBand/jointheband/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{useState}from'react';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';import{useHistory}from\"react-router-dom\";import Cookies from'universal-cookie';function Signup(_ref){var baseURL=_ref.baseURL,genres=_ref.genres,setGenres=_ref.setGenres,instruments=_ref.instruments,setInstruments=_ref.setInstruments,locations=_ref.locations,setLocations=_ref.setLocations,users=_ref.users,setUsers=_ref.setUsers;var history=useHistory();var _useState=useState({username:\"\",password:\"\",email_address:\"\",picture_url:\"\",genre:\"\",instrument:\"\",location:\"\",looking_for:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var cookies=new Cookies();var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),signupErrors=_useState4[0],setSignupErrors=_useState4[1];var handleSubmitSignUp=function handleSubmitSignUp(e){debugger;e.preventDefault();console.log(user);fetch(\"\".concat(baseURL,\"/signup\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"Accept\":\"application/json\"},body:JSON.stringify({name:user.username,password:user.password,email_address:user.email_address,picture_url:user.picture_url,genre:user.genre,instrument:user.instrument,location:user.location,looking_for:user.looking_for})}).then(function(resp){if(resp.ok){debugger;resp.json().then(function(data){setSignupErrors([]);if(!genres.includes(data.genre)){setGenres([].concat(_toConsumableArray(genres),[data.genre]));}if(!instruments.includes(data.instrument)){setInstruments([].concat(_toConsumableArray(genres),[data.instrument]));}if(!locations.includes(data.location)){setLocations([].concat(_toConsumableArray(locations),[data.location]));}setUsers([].concat(_toConsumableArray(users),[data]));history.push(\"/profiles\");});}else{resp.json().then(function(json){return setSignupErrors(json.errors);});}});};var handleChange=function handleChange(e){setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));};var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),displayGenreInput=_useState6[0],setDisplayGenreInput=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),displayInstrumentInput=_useState8[0],setDisplayInstrumentInput=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),displayLocationInput=_useState10[0],setDisplayLocationInput=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),displayLookingForInput=_useState12[0],setDisplayLookingForInput=_useState12[1];return/*#__PURE__*/_jsx(\"div\",{className:\"login-or-signup\",children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmitSignUp,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sign Up\"}),signupErrors.map(function(signupError){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"em\",{children:signupError}),/*#__PURE__*/_jsx(\"br\",{})]});}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Username\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter your username\",name:\"username\",value:user.username,onChange:handleChange})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Password\",name:\"password\",value:user.password,onChange:handleChange})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email Address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter your email address\",name:\"email_address\",value:user.email_address,onChange:handleChange})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Picture URL\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter your picture url\",name:\"picture_url\",value:user.picture_url,onChange:handleChange})]}),!displayGenreInput?/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Genre\"}),/*#__PURE__*/_jsxs(Form.Select,{onChange:function onChange(e){if(e.target.value==='Other'){setDisplayGenreInput(true);}else{setUser(_objectSpread(_objectSpread({},user),{},{genre:e.target.value}));}},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,selected:true,children:\"Select your genre\"}),genres.map(function(genre){return/*#__PURE__*/_jsx(\"option\",{value:genre.name,children:genre.name});}),/*#__PURE__*/_jsx(\"option\",{children:\"Other\"})]}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"If you do not see your genre, select 'Other'\"})]}):null,displayGenreInput?/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Genre\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter your genre\",name:\"genre\",value:user.genre,onChange:handleChange})]}):null,!displayInstrumentInput?/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Instrument\"}),/*#__PURE__*/_jsxs(Form.Select,{onChange:function onChange(e){if(e.target.value==='Other'){setDisplayInstrumentInput(true);}else{setUser(_objectSpread(_objectSpread({},user),{},{instrument:e.target.value}));}},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,selected:true,children:\"Select your instrument\"}),instruments.map(function(instrument){return/*#__PURE__*/_jsx(\"option\",{value:instrument.name,children:instrument.name});}),/*#__PURE__*/_jsx(\"option\",{children:\"Other\"})]}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"If you do not see your instrument, select 'Other'\"})]}):null,displayInstrumentInput?/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Instrument\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter your instrument\",name:\"instrument\",value:user.instrument,onChange:handleChange}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"Enter in your instrument\"})]}):null,!displayLocationInput?/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Location\"}),/*#__PURE__*/_jsxs(Form.Select,{onChange:function onChange(e){if(e.target.value==='Other'){setDisplayLocationInput(true);}else{setUser(_objectSpread(_objectSpread({},user),{},{location:e.target.value}));}},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,selected:true,children:\"Select your location\"}),locations.map(function(location){return/*#__PURE__*/_jsx(\"option\",{value:location.name,children:location.name});}),/*#__PURE__*/_jsx(\"option\",{children:\"Other\"})]}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"If you do not see your location, select 'Other'\"})]}):null,displayLocationInput?/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Location\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter your location\",name:\"location\",value:user.location,onChange:handleChange})]}):null,!displayLookingForInput?/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Looking For\"}),/*#__PURE__*/_jsxs(Form.Select,{onChange:function onChange(e){if(e.target.value==='Other'){setDisplayLookingForInput(true);}else{setUser(_objectSpread(_objectSpread({},user),{},{looking_for:e.target.value}));}},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,selected:true,children:\"Select the instrument you want to collaborate with\"}),instruments.map(function(instrument){return/*#__PURE__*/_jsx(\"option\",{value:instrument.name,children:instrument.name});}),/*#__PURE__*/_jsx(\"option\",{children:\"Other\"})]}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"If you do not see the instrument you want to collaborate with, select 'Other'\"})]}):null,displayLookingForInput?/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Looking For\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter the instrument you are looking for\",name:\"looking_for\",value:user.looking_for,onChange:handleChange}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"Enter the instrument you want to collaborate with\"})]}):null,/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Submit\"})]})});}export default Signup;","map":{"version":3,"sources":["/Users/joeverghese/2023/joinTheBand/joinTheBand/jointheband/src/components/Signup.jsx"],"names":["useState","Form","Button","useHistory","Cookies","Signup","baseURL","genres","setGenres","instruments","setInstruments","locations","setLocations","users","setUsers","history","username","password","email_address","picture_url","genre","instrument","location","looking_for","user","setUser","cookies","signupErrors","setSignupErrors","handleSubmitSignUp","e","preventDefault","console","log","fetch","method","headers","body","JSON","stringify","name","then","resp","ok","json","data","includes","push","errors","handleChange","target","value","displayGenreInput","setDisplayGenreInput","displayInstrumentInput","setDisplayInstrumentInput","displayLocationInput","setDisplayLocationInput","displayLookingForInput","setDisplayLookingForInput","map","signupError"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport { useHistory } from \"react-router-dom\";\nimport Cookies from 'universal-cookie';\n\nfunction Signup({baseURL,genres,setGenres,instruments,setInstruments,locations,setLocations, users,setUsers}) {\n  let history = useHistory();\n  const [user, setUser] = useState({\n    username: \"\",\n    password: \"\",\n    email_address: \"\", \n    picture_url: \"\",\n    genre: \"\",                                            \n    instrument: \"\",                                        \n    location: \"\", \n    looking_for: \"\"\n  });\n  const cookies = new Cookies();\n  \n  const [signupErrors, setSignupErrors] = useState([]);\n\n  const handleSubmitSignUp = e => {\n\n    debugger;\n    e.preventDefault();\n\n    console.log(user);\n    fetch(`${baseURL}/signup`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify({\n        name: user.username,\n        password: user.password,\n        email_address: user.email_address, \n        picture_url: user.picture_url,\n        genre: user.genre,                                            \n        instrument: user.instrument,                                        \n        location: user.location, \n        looking_for: user.looking_for\n      }),\n     \n    }).then(resp => {\n      if (resp.ok) {\n        debugger;\n        resp.json().then(data => {\n          setSignupErrors([])\n          if (!genres.includes(data.genre)) {\n            setGenres([...genres,data.genre])\n          }\n          if (!instruments.includes(data.instrument)) {\n            setInstruments([...genres,data.instrument])\n          }\n          if (!locations.includes(data.location)) {\n            setLocations([...locations,data.location])\n          }\n          setUsers([...users, data]);\n          history.push(\"/profiles\");\n          \n         })\n      }else {\n         resp.json().then(json => setSignupErrors(json.errors))\n      }\n   })\n\n  } \n\n  const handleChange = e => {\n    setUser({\n      ...user,\n      [e.target.name]: e.target.value\n    })\n  }\n\n  const [displayGenreInput, setDisplayGenreInput] = useState(false);\n  const [displayInstrumentInput, setDisplayInstrumentInput] = useState(false)\n  const [displayLocationInput, setDisplayLocationInput] = useState(false)\n  const [displayLookingForInput,setDisplayLookingForInput] = useState(false)\n\n\n\n\n  return <div className=\"login-or-signup\">\n\n<Form  onSubmit={handleSubmitSignUp}>\n      <h2>Sign Up</h2>\n      {signupErrors.map((signupError) => <><em>{signupError}</em><br></br></>)}\n      <Form.Group className=\"mb-3\">\n        <Form.Label>Username</Form.Label>\n        <Form.Control type=\"text\" placeholder=\"Enter your username\" name=\"username\" value={user.username} onChange={handleChange}/>\n      </Form.Group>\n\n      <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n        <Form.Label>Password</Form.Label>\n        <Form.Control type=\"password\" placeholder=\"Password\"  name=\"password\"  value={user.password} onChange={ handleChange } />\n      </Form.Group>\n\n      <Form.Group className=\"mb-3\">\n        <Form.Label>Email Address</Form.Label>\n        <Form.Control type=\"text\" placeholder=\"Enter your email address\" name=\"email_address\" value={user.email_address} onChange={handleChange}/>\n      </Form.Group>\n\n      <Form.Group className=\"mb-3\">\n        <Form.Label>Picture URL</Form.Label>\n        <Form.Control type=\"text\" placeholder=\"Enter your picture url\" name=\"picture_url\" value={user.picture_url} onChange={handleChange}/>\n      </Form.Group>\n\n\n      {!displayGenreInput ?\n         <Form.Group className=\"mb-3\">\n         <Form.Label>Genre</Form.Label>\n          <Form.Select onChange={(e) => { if (e.target.value === 'Other') { setDisplayGenreInput(true) } else {setUser({...user,genre:e.target.value})} }}>\n          <option value=\"\" disabled selected>Select your genre</option>\n          {genres.map((genre) => <option value={genre.name}>{genre.name}</option>)}\n          <option>Other</option>\n          </Form.Select>\n          <Form.Text className=\"text-muted\">\n          If you do not see your genre, select 'Other'\n        </Form.Text>\n        </Form.Group> : null}\n      {displayGenreInput ? <Form.Group className=\"mb-3\">\n        <Form.Label>Genre</Form.Label>\n        <Form.Control type=\"text\" placeholder=\"Enter your genre\" name=\"genre\" value={user.genre} onChange={handleChange}/>\n      </Form.Group> : null}\n\n      {!displayInstrumentInput ?\n         <Form.Group className=\"mb-3\">\n         <Form.Label>Instrument</Form.Label>\n          <Form.Select onChange={(e) => { if (e.target.value === 'Other') { setDisplayInstrumentInput(true) } else {setUser({...user,instrument:e.target.value})} }}>\n          <option value=\"\" disabled selected>Select your instrument</option>\n          {instruments.map((instrument) => <option value={instrument.name}>{instrument.name}</option>)}\n          <option>Other</option>\n          </Form.Select>\n          <Form.Text className=\"text-muted\">\n          If you do not see your instrument, select 'Other'\n        </Form.Text>\n        </Form.Group> : null}\n      {displayInstrumentInput ? <Form.Group className=\"mb-3\">\n        <Form.Label>Instrument</Form.Label>\n        <Form.Control type=\"text\" placeholder=\"Enter your instrument\" name=\"instrument\" value={user.instrument} onChange={handleChange} />\n        <Form.Text className=\"text-muted\">\n          Enter in your instrument\n        </Form.Text>\n      </Form.Group> : null}\n\n      {!displayLocationInput ?\n         <Form.Group className=\"mb-3\">\n         <Form.Label>Location</Form.Label>\n          <Form.Select onChange={(e) => { if (e.target.value === 'Other') { setDisplayLocationInput(true) } else {setUser({...user,location:e.target.value})} }}>\n          <option value=\"\" disabled selected>Select your location</option>\n          {locations.map((location) => <option value={location.name}>{location.name}</option>)}\n          <option>Other</option>\n          </Form.Select>\n          <Form.Text className=\"text-muted\">\n          If you do not see your location, select 'Other'\n        </Form.Text>\n        </Form.Group> : null}\n      {displayLocationInput ? <Form.Group className=\"mb-3\">\n        <Form.Label>Location</Form.Label>\n        <Form.Control type=\"text\" placeholder=\"Enter your location\" name=\"location\" value={user.location} onChange={handleChange}/>\n      </Form.Group> : null}\n\n      {!displayLookingForInput ?\n         <Form.Group className=\"mb-3\">\n         <Form.Label>Looking For</Form.Label>\n          <Form.Select onChange={(e) => { if (e.target.value === 'Other') { setDisplayLookingForInput(true) } else {setUser({...user,looking_for:e.target.value})} }}>\n          <option value=\"\" disabled selected>Select the instrument you want to collaborate with</option>\n          {instruments.map((instrument) => <option value={instrument.name}>{instrument.name}</option>)}\n          <option>Other</option>\n          </Form.Select>\n          <Form.Text className=\"text-muted\">\n          If you do not see the instrument you want to collaborate with, select 'Other'\n        </Form.Text>\n        </Form.Group> : null}\n      {displayLookingForInput ? <Form.Group className=\"mb-3\">\n        <Form.Label>Looking For</Form.Label>\n        <Form.Control type=\"text\" placeholder=\"Enter the instrument you are looking for\" name=\"looking_for\" value={user.looking_for} onChange={handleChange} />\n        <Form.Text className=\"text-muted\">\n         Enter the instrument you want to collaborate with\n        </Form.Text>\n      </Form.Group> : null}\n\n\n      <Button variant=\"primary\" type=\"submit\">\n        Submit\n      </Button>\n    </Form>\n  </div>\n}\nexport default Signup;"]},"metadata":{},"sourceType":"module"}