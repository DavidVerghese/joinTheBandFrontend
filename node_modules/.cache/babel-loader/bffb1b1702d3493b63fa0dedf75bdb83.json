{"ast":null,"code":"import _slicedToArray from\"/Users/joeverghese/2023/joinTheBand/joinTheBand/jointheband/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import'./App.css';import{useEffect,useState}from\"react\";import{Route}from\"react-router-dom\";import Home from\"./components/Home.jsx\";import AllProfiles from\"./components/AllProfiles.jsx\";import Cookies from'universal-cookie';import Login from'./components/Login';import Signup from'./components/Signup';import Header from'./components/Header';function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var cookies=new Cookies();var baseURL=process.env.NODE_ENV==='production'?\"https://join-the-band-api.herokuapp.com/\":\"http://localhost:3000\";var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];console.log(user);useEffect(function(){var id=cookies.get('user_id');fetch(\"\".concat(baseURL,\"/lookup/\").concat(id)).then(function(resp){if(resp.ok){resp.json().then(function(data){setUser(data);//  setUser(data)\n//  data.error? setLoggedIn(false) : setLoggedIn(true)\n});}else{// resp.json().then(data => setErrors(data.error))\n}});},[]);useEffect(function(){fetch(\"\".concat(baseURL,\"/users/\")).then(function(response){return response.json();}).then(function(data){setUsers(data);});},[]);var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),genres=_useState6[0],setGenres=_useState6[1];useEffect(function(){fetch(\"\".concat(baseURL,\"/genres\")).then(function(response){return response.json();}).then(function(data){setGenres(data);});},[]);var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),instruments=_useState8[0],setInstruments=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),locations=_useState10[0],setLocations=_useState10[1];useEffect(function(){fetch(\"\".concat(baseURL,\"/instruments\")).then(function(response){return response.json();}).then(function(data){setInstruments(data);});},[]);useEffect(function(){fetch(\"\".concat(baseURL,\"/locations\")).then(function(response){return response.json();}).then(function(data){setLocations(data);});},[]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(Header,{user:user}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(Home,{user:user})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",children:/*#__PURE__*/_jsx(Signup,{baseURL:baseURL,instruments:instruments,setInstruments:setInstruments,locations:locations,setLocations:setLocations,genres:genres,setGenres:setGenres,users:users,setUsers:setUsers})}),/*#__PURE__*/_jsx(Route,{path:\"/profiles\",children:/*#__PURE__*/_jsx(AllProfiles,{baseURL:baseURL,genres:genres,instruments:instruments,locations:locations,users:users})})]})});}export default App;","map":{"version":3,"sources":["/Users/joeverghese/2023/joinTheBand/joinTheBand/jointheband/src/App.js"],"names":["useEffect","useState","Route","Home","AllProfiles","Cookies","Login","Signup","Header","App","users","setUsers","cookies","baseURL","process","env","NODE_ENV","user","setUser","console","log","id","get","fetch","then","resp","ok","json","data","response","genres","setGenres","instruments","setInstruments","locations","setLocations"],"mappings":"0QAAA,MAAO,WAAP,CACA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,KAAT,KAAsB,kBAAtB,CACA,MAAOC,CAAAA,IAAP,KAAiB,uBAAjB,CACA,MAAOC,CAAAA,WAAP,KAAwB,8BAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,kBAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CAEA,QAASC,CAAAA,GAAT,EAAe,eACaR,QAAQ,CAAC,EAAD,CADrB,wCACNS,KADM,eACCC,QADD,eAGb,GAAMC,CAAAA,OAAO,CAAG,GAAIP,CAAAA,OAAJ,EAAhB,CACA,GAAMQ,CAAAA,OAAO,CAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,GAAyB,YAAzB,mEAAhB,CAJa,eAKWf,QAAQ,CAAC,KAAD,CALnB,yCAKNgB,IALM,eAKAC,OALA,eAObC,OAAO,CAACC,GAAR,CAAYH,IAAZ,EACAjB,SAAS,CAAC,UAAM,CACd,GAAMqB,CAAAA,EAAE,CAAGT,OAAO,CAACU,GAAR,CAAY,SAAZ,CAAX,CACAC,KAAK,WAAIV,OAAJ,oBAAsBQ,EAAtB,EAAL,CACCG,IADD,CACM,SAAAC,IAAI,CAAI,CACV,GAAGA,IAAI,CAACC,EAAR,CAAW,CACTD,IAAI,CAACE,IAAL,GAAYH,IAAZ,CAAiB,SAAAI,IAAI,CAAI,CACvBV,OAAO,CAACU,IAAD,CAAP,CACE;AACA;AACD,CAJH,EAKD,CAND,IAMM,CACF;AACH,CACJ,CAXD,EAaD,CAfQ,CAeN,EAfM,CAAT,CAiBA5B,SAAS,CAAC,UAAM,CACduB,KAAK,WAAIV,OAAJ,YAAL,CACGW,IADH,CACQ,SAACK,QAAD,QAAcA,CAAAA,QAAQ,CAACF,IAAT,EAAd,EADR,EAEGH,IAFH,CAEQ,SAACI,IAAD,CAAU,CACdjB,QAAQ,CAACiB,IAAD,CAAR,CACD,CAJH,EAKD,CANQ,CAMN,EANM,CAAT,CAzBa,eAiCe3B,QAAQ,CAAC,EAAD,CAjCvB,yCAiCN6B,MAjCM,eAiCEC,SAjCF,eAkCb/B,SAAS,CAAC,UAAM,CACduB,KAAK,WAAIV,OAAJ,YAAL,CACGW,IADH,CACQ,SAACK,QAAD,QAAcA,CAAAA,QAAQ,CAACF,IAAT,EAAd,EADR,EAEGH,IAFH,CAEQ,SAACI,IAAD,CAAU,CACdG,SAAS,CAACH,IAAD,CAAT,CACD,CAJH,EAKD,CANQ,CAMN,EANM,CAAT,CAlCa,eA0CyB3B,QAAQ,CAAC,EAAD,CA1CjC,yCA0CN+B,WA1CM,eA0COC,cA1CP,8BA2CqBhC,QAAQ,CAAC,EAAD,CA3C7B,0CA2CNiC,SA3CM,gBA2CKC,YA3CL,gBA+CbnC,SAAS,CAAC,UAAM,CACduB,KAAK,WAAIV,OAAJ,iBAAL,CACGW,IADH,CACQ,SAACK,QAAD,QAAcA,CAAAA,QAAQ,CAACF,IAAT,EAAd,EADR,EAEGH,IAFH,CAEQ,SAACI,IAAD,CAAU,CACdK,cAAc,CAACL,IAAD,CAAd,CACD,CAJH,EAKD,CANQ,CAMN,EANM,CAAT,CAQA5B,SAAS,CAAC,UAAM,CACduB,KAAK,WAAIV,OAAJ,eAAL,CACGW,IADH,CACQ,SAACK,QAAD,QAAcA,CAAAA,QAAQ,CAACF,IAAT,EAAd,EADR,EAEGH,IAFH,CAEQ,SAACI,IAAD,CAAU,CACdO,YAAY,CAACP,IAAD,CAAZ,CACD,CAJH,EAKD,CANQ,CAMN,EANM,CAAT,CAQA,mBACE,kCACE,qCACE,KAAC,MAAD,EAAQ,IAAI,CAAEX,IAAd,EADF,cAEA,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,uBACI,KAAC,IAAD,EAAM,IAAI,CAAEA,IAAZ,EADJ,EAFA,cASE,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,uBACE,KAAC,MAAD,EAAQ,OAAO,CAAEJ,OAAjB,CAA0B,WAAW,CAAEmB,WAAvC,CAAoD,cAAc,CAAEC,cAApE,CAAoF,SAAS,CAAEC,SAA/F,CAA0G,YAAY,CAAEC,YAAxH,CAAsI,MAAM,CAAEL,MAA9I,CAAsJ,SAAS,CAAEC,SAAjK,CAA4K,KAAK,CAAErB,KAAnL,CAA0L,QAAQ,CAAEC,QAApM,EADF,EATF,cAcE,KAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,uBACE,KAAC,WAAD,EAAa,OAAO,CAAEE,OAAtB,CAA+B,MAAM,CAAEiB,MAAvC,CAA+C,WAAW,CAAEE,WAA5D,CAAyE,SAAS,CAAEE,SAApF,CAA+F,KAAK,CAAExB,KAAtG,EADF,EAdF,GADF,EADF,CAuBD,CAED,cAAeD,CAAAA,GAAf","sourcesContent":["import './App.css';\nimport { useEffect, useState } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport Home from \"./components/Home.jsx\"\nimport AllProfiles from \"./components/AllProfiles.jsx\"\nimport Cookies from 'universal-cookie';\nimport Login from './components/Login';\nimport Signup from './components/Signup';\nimport Header from './components/Header';\n\nfunction App() {\n  const [users, setUsers] = useState([]);\n  \n  const cookies = new Cookies();\n  const baseURL = process.env.NODE_ENV === 'production' ?  `https://join-the-band-api.herokuapp.com/` : `http://localhost:3000`\n  const [user, setUser] = useState(false);\n\n  console.log(user);\n  useEffect(() => {\n    const id = cookies.get('user_id');\n    fetch(`${baseURL}/lookup/${id}`)\n    .then(resp => {\n        if(resp.ok){\n          resp.json().then(data => {\n            setUser(data);\n              //  setUser(data)\n              //  data.error? setLoggedIn(false) : setLoggedIn(true)\n            })\n        }else {\n            // resp.json().then(data => setErrors(data.error))\n        }\n    })\n   \n  }, [])\n  \n  useEffect(() => {\n    fetch(`${baseURL}/users/`)\n      .then((response) => response.json())\n      .then((data) => {\n        setUsers(data);\n      });\n  }, []);\n\n  const [genres, setGenres] = useState([]);\n  useEffect(() => {\n    fetch(`${baseURL}/genres`)\n      .then((response) => response.json())\n      .then((data) => {\n        setGenres(data);\n      });\n  }, []);\n   \n  const [instruments, setInstruments] = useState([]);\n  const [locations, setLocations] = useState([]);\n\n  \n\n  useEffect(() => {\n    fetch(`${baseURL}/instruments`)\n      .then((response) => response.json())\n      .then((data) => {\n        setInstruments(data);\n      });\n  }, []);\n\n  useEffect(() => {\n    fetch(`${baseURL}/locations`)\n      .then((response) => response.json())\n      .then((data) => {\n        setLocations(data);\n      });\n  }, []);\n\n  return (\n    <div>\n      <main>\n        <Header user={user} />\n      <Route exact path=\"/\">\n          <Home user={user} />\n        </Route>\n        {/* <Route path=\"/login\">\n          <Login user={user} setUser={setUser} baseURL={baseURL} instruments={instruments} setInstruments={setInstruments} locations={locations} setLocations={setLocations} genres={genres} setGenres={setGenres} users={users} setUsers={setUsers} />\n        </Route> */}\n\n        <Route path=\"/signup\">\n          <Signup baseURL={baseURL} instruments={instruments} setInstruments={setInstruments} locations={locations} setLocations={setLocations} genres={genres} setGenres={setGenres} users={users} setUsers={setUsers} />\n        </Route>\n       \n\n        <Route path=\"/profiles\">\n          <AllProfiles baseURL={baseURL} genres={genres} instruments={instruments} locations={locations} users={users}/>\n        </Route>\n\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}