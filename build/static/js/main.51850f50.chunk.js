(this.webpackJsonpjointheband=this.webpackJsonpjointheband||[]).push([[0],{69:function(e,t,n){},70:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),s=n(24),r=n.n(s),o=(n(69),n(6)),i=(n(70),n(12)),l=n.p+"static/media/vinyl.c87b90b3.png",j=n.p+"static/media/turntable_arm.1d446cf2.png",u=n.p+"static/media/turntable.e486b318.png",b=n(22),d=n(26),h=n(49);var O=function(e){var t=e.user;return Object(c.jsxs)("div",{className:"home",children:[Object(c.jsxs)("p",{children:["Welcome ",t.name]}),Object(c.jsx)("h2",{children:"Join The Band"}),Object(c.jsx)("em",{children:"find musicians in your area"}),Object(c.jsx)(h.a,{style:{display:"block"},children:Object(c.jsx)(d.b,{to:"/profiles",children:Object(c.jsx)(b.a,{style:{margin:"10px"},children:"See users"})})}),Object(c.jsxs)("div",{id:"turntable-container",children:[Object(c.jsx)("img",{id:"turntable-arm",src:j}),Object(c.jsx)("img",{id:"turntable",src:u}),Object(c.jsx)("img",{id:"spin",src:l})]})]})},m=n(16),x=n(20),p=n(19),f=n(7),g=n(60),v=n(61);var y=function(e){var t=e.users,n=e.genres,s=e.instruments,r=e.locations,i=Object(a.useState)([]),l=Object(o.a)(i,2),j=l[0],u=l[1];Object(a.useEffect)((function(){u(t)}),[t]);var d=[{name:"All genres"}].concat(Object(m.a)(n)),O=[{name:"All instruments"}].concat(Object(m.a)(s)),y=[{name:"All locations"}].concat(Object(m.a)(r)),w=Object(a.useState)(""),S=Object(o.a)(w,2),C=S[0],L=S[1],_=Object(a.useState)("all users"),N=Object(o.a)(_,2),k=N[0],T=N[1];return Object(c.jsxs)("div",{className:"profiles-parent",children:[Object(c.jsx)("h2",{children:"Users:"}),Object(c.jsxs)(h.a,{style:{width:"100%",display:"flex",justifyContent:"space-between"},className:"mb-2",children:[Object(c.jsxs)(g.a,{style:{maxWidth:"50%",marginLeft:"50px"},className:"mb-3",children:[Object(c.jsx)(f.a.Control,{placeholder:"search for users by name",value:C,onChange:function(e){L(e.target.value)},"aria-label":"search for users","aria-describedby":"basic-addon2"}),Object(c.jsx)(b.a,{onClick:function(){var e=t.filter((function(e){return e.name.includes(C)}));0==e.length?alert('there are no users named "'.concat(C,'" or whose name contains "').concat(C,'"')):(u(e),T('users named "'.concat(C,'" or whose name contains "').concat(C,'"')))},variant:"outline-secondary",id:"button-addon2",children:"Submit"})]}),Object(c.jsx)(b.a,{variant:"secondary",onClick:function(){u(t),T("all users")},style:{maxWidth:"20%",marginRight:"50px",padding:"5px"},children:"See all users"})]}),Object(c.jsxs)(h.a,{style:{width:"100%",display:"flex",justifyContent:"space-around"},className:"mb-2",children:[Object(c.jsx)("div",{children:Object(c.jsxs)(p.a,{children:[Object(c.jsx)(p.a.Toggle,{children:"Filter by Instrument"}),Object(c.jsx)(p.a.Menu,{children:O.map((function(e){return Object(c.jsx)(p.a.Item,{onClick:function(){return u(function(e){var n=t.filter((function(t){return t.instrument_name===e}));return"All instruments"===e?(T("all users"),t):0==n.length?(alert('no users found with the instrument "'.concat(e,'"')),T("all users"),t):(T('users whose instrument is "'.concat(e,'"')),n)}(e.name))},children:e.name})}))})]})}),Object(c.jsxs)(p.a,{children:[Object(c.jsx)(p.a.Toggle,{variant:"success",id:"dropdown-basic",children:"Filter by Genre"}),Object(c.jsx)(p.a.Menu,{children:d.map((function(e){return Object(c.jsx)(p.a.Item,{onClick:function(){return u(function(e){var n=t.filter((function(t){return t.genre_name===e}));return"All genres"===e?(T("all users"),t):0==n.length?(alert('no users found with the genre "'.concat(e,'"')),T("all users"),t):(T('users whose genre is "'.concat(e,'"')),n)}(e.name))},children:e.name})}))})]}),Object(c.jsxs)(p.a,{children:[Object(c.jsx)(p.a.Toggle,{variant:"success",id:"dropdown-basic",children:"Filter by Location"}),Object(c.jsx)(p.a.Menu,{children:y.map((function(e){return Object(c.jsx)(p.a.Item,{onClick:function(){return u(function(e){var n=t.filter((function(t){return t.location_name===e}));return"All locations"===e?(T("all users"),t):0==n.length?(alert('no users found with location "'.concat(e,'"')),T("all users"),t):(T('users whose location is "'.concat(e,'"')),n)}(e.name))},children:e.name})}))})]})]}),Object(c.jsxs)("p",{children:["Currently displaying ",k]}),Object(c.jsx)("div",{className:"profiles",children:j&&j.length>0?j.map((function(e,t){return Object(c.jsx)(x.a,{style:{width:"18rem",backgroundColor:"black",boxShadow:"1px 1px 1px 1px white",margin:"10px",textAlign:"center"},children:Object(c.jsxs)(x.a.Body,{children:[Object(c.jsxs)(x.a.Header,{children:[Object(c.jsx)(x.a.Title,{children:e.name}),Object(c.jsx)(x.a.Subtitle,{className:"mb-2 text-muted",children:e.instrument_name})]}),Object(c.jsx)(x.a.Img,{style:{width:"5rem"},variant:"top",src:e.picture_url}),Object(c.jsxs)(x.a.Text,{children:["email: ",e.email_address]}),Object(c.jsxs)(x.a.Text,{children:["genre: ",e.genre_name]}),Object(c.jsx)(x.a.Text,{children:Object(c.jsxs)("p",{children:["joined: ",(n=e.created_at,Date(n).split(" ").slice(0,3).join(" "))]})}),Object(c.jsx)(x.a.Text,{children:Object(c.jsxs)("p",{children:["location: ",e.location_name]})}),Object(c.jsx)(x.a.Text,{children:Object(c.jsxs)("p",{children:["instrument: ",e.instrument_name]})}),Object(c.jsx)(x.a.Text,{children:Object(c.jsxs)("p",{children:["looking for: ",e.looking_for]})})]})});var n})):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{children:"Loading"}),Object(c.jsx)(v.a,{animation:"border",role:"status",children:Object(c.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]})})]})},w=n(33),S=n(8),C=n(2);var L=function(e){var t=e.baseURL,n=(e.user,e.setUser),s=new w.a,r=Object(i.e)(),l=Object(a.useState)({name:"no user"}),j=Object(o.a)(l,2),u=j[0],d=j[1],h=Object(a.useState)({username:"",password:"",email_address:"",picture_url:"",genre:"",instrument:"",location:"",looking_for:""}),O=Object(o.a)(h,2),m=O[0],x=O[1],p=Object(a.useState)([]),g=Object(o.a)(p,2),v=g[0],y=g[1],L=Object(a.useState)(!1),_=Object(o.a)(L,2),N=_[0],k=_[1],T=function(e){x(Object(C.a)(Object(C.a)({},m),{},Object(S.a)({},e.target.name,e.target.value)))};return Object(c.jsxs)("div",{className:"login-or-signup",children:[Object(c.jsxs)("p",{children:["current user: ",u.name]}),Object(c.jsx)(b.a,{variant:"primary",onClick:function(){var e=s.get("user_id");fetch("".concat(t,"/lookup/").concat(e)).then((function(e){return e.json()})).then((function(e){d(e),console.log(e)}))},children:"run /me"}),Object(c.jsxs)(f.a,{onSubmit:function(e){e.preventDefault(),fetch("".concat(t,"/login"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:m.username,password:m.password})}).then((function(e){e.ok?e.json().then((function(e){y([]),console.log(e),d(e),k(!N),n(e),r.push("/profiles")})):e.json().then((function(e){return y(e.errors)}))}))},children:[Object(c.jsx)("h2",{children:"Log in"}),v.map((function(e){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("em",{children:e}),Object(c.jsx)("br",{})]})})),Object(c.jsxs)(f.a.Group,{className:"mb-3",children:[Object(c.jsx)(f.a.Label,{children:"Username"}),Object(c.jsx)(f.a.Control,{type:"text",placeholder:"Enter your username",name:"username",value:m.username,onChange:T})]}),Object(c.jsxs)(f.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(c.jsx)(f.a.Label,{children:"Password"}),Object(c.jsx)(f.a.Control,{type:"password",placeholder:"Password",name:"password",value:m.password,onChange:T})]}),Object(c.jsx)(b.a,{variant:"primary",type:"submit",children:"Submit"})]})]})};var _=function(e){var t=e.baseURL,n=e.genres,s=e.setGenres,r=e.instruments,l=e.setInstruments,j=e.locations,u=e.setLocations,d=e.users,h=e.setUsers,O=Object(i.e)(),x=Object(a.useState)({username:"",password:"",email_address:"",picture_url:"",genre:"",instrument:"",location:"",looking_for:""}),p=Object(o.a)(x,2),g=p[0],v=p[1],y=(new w.a,Object(a.useState)([])),L=Object(o.a)(y,2),_=L[0],N=L[1],k=function(e){v(Object(C.a)(Object(C.a)({},g),{},Object(S.a)({},e.target.name,e.target.value)))},T=Object(a.useState)(!1),E=Object(o.a)(T,2),G=E[0],I=E[1],U=Object(a.useState)(!1),F=Object(o.a)(U,2),P=F[0],A=F[1],B=Object(a.useState)(!1),R=Object(o.a)(B,2),J=R[0],D=R[1],M=Object(a.useState)(!1),W=Object(o.a)(M,2),H=W[0],q=W[1];return Object(c.jsx)("div",{className:"login-or-signup",children:Object(c.jsxs)(f.a,{onSubmit:function(e){e.preventDefault(),console.log(g),fetch("".concat(t,"/signup"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:g.username,password:g.password,email_address:g.email_address,picture_url:g.picture_url,genre:g.genre,instrument:g.instrument,location:g.location,looking_for:g.looking_for})}).then((function(e){e.ok?e.json().then((function(e){N([]),n.includes(e.genre)||s([].concat(Object(m.a)(n),[e.genre])),r.includes(e.instrument)||l([].concat(Object(m.a)(n),[e.instrument])),j.includes(e.location)||u([].concat(Object(m.a)(j),[e.location])),h([].concat(Object(m.a)(d),[e])),O.push("/profiles")})):e.json().then((function(e){return N(e.errors)}))}))},children:[Object(c.jsx)("h2",{children:"Sign Up"}),_.map((function(e){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("em",{children:e}),Object(c.jsx)("br",{})]})})),Object(c.jsxs)(f.a.Group,{className:"mb-3",children:[Object(c.jsx)(f.a.Label,{children:"Username"}),Object(c.jsx)(f.a.Control,{type:"text",placeholder:"Enter your username",name:"username",value:g.username,onChange:k})]}),Object(c.jsxs)(f.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(c.jsx)(f.a.Label,{children:"Password"}),Object(c.jsx)(f.a.Control,{type:"password",placeholder:"Password",name:"password",value:g.password,onChange:k})]}),Object(c.jsxs)(f.a.Group,{className:"mb-3",children:[Object(c.jsx)(f.a.Label,{children:"Email Address"}),Object(c.jsx)(f.a.Control,{type:"text",placeholder:"Enter your email address",name:"email_address",value:g.email_address,onChange:k})]}),Object(c.jsxs)(f.a.Group,{className:"mb-3",children:[Object(c.jsx)(f.a.Label,{children:"Picture URL"}),Object(c.jsx)(f.a.Control,{type:"text",placeholder:"Enter your picture url",name:"picture_url",value:g.picture_url,onChange:k})]}),G?null:Object(c.jsxs)(f.a.Group,{className:"mb-3",children:[Object(c.jsx)(f.a.Label,{children:"Genre"}),Object(c.jsxs)(f.a.Select,{onChange:function(e){"Other"===e.target.value?I(!0):v(Object(C.a)(Object(C.a)({},g),{},{genre:e.target.value}))},children:[Object(c.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your genre"}),n.map((function(e){return Object(c.jsx)("option",{value:e.name,children:e.name})})),Object(c.jsx)("option",{children:"Other"})]}),Object(c.jsx)(f.a.Text,{className:"text-muted",children:"If you do not see your genre, select 'Other'"})]}),G?Object(c.jsxs)(f.a.Group,{className:"mb-3",children:[Object(c.jsx)(f.a.Label,{children:"Genre"}),Object(c.jsx)(f.a.Control,{type:"text",placeholder:"Enter your genre",name:"genre",value:g.genre,onChange:k})]}):null,P?null:Object(c.jsxs)(f.a.Group,{className:"mb-3",children:[Object(c.jsx)(f.a.Label,{children:"Instrument"}),Object(c.jsxs)(f.a.Select,{onChange:function(e){"Other"===e.target.value?A(!0):v(Object(C.a)(Object(C.a)({},g),{},{instrument:e.target.value}))},children:[Object(c.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your instrument"}),r.map((function(e){return Object(c.jsx)("option",{value:e.name,children:e.name})})),Object(c.jsx)("option",{children:"Other"})]}),Object(c.jsx)(f.a.Text,{className:"text-muted",children:"If you do not see your instrument, select 'Other'"})]}),P?Object(c.jsxs)(f.a.Group,{className:"mb-3",children:[Object(c.jsx)(f.a.Label,{children:"Instrument"}),Object(c.jsx)(f.a.Control,{type:"text",placeholder:"Enter your instrument",name:"instrument",value:g.instrument,onChange:k}),Object(c.jsx)(f.a.Text,{className:"text-muted",children:"Enter in your instrument"})]}):null,J?null:Object(c.jsxs)(f.a.Group,{className:"mb-3",children:[Object(c.jsx)(f.a.Label,{children:"Location"}),Object(c.jsxs)(f.a.Select,{onChange:function(e){"Other"===e.target.value?D(!0):v(Object(C.a)(Object(C.a)({},g),{},{location:e.target.value}))},children:[Object(c.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your location"}),j.map((function(e){return Object(c.jsx)("option",{value:e.name,children:e.name})})),Object(c.jsx)("option",{children:"Other"})]}),Object(c.jsx)(f.a.Text,{className:"text-muted",children:"If you do not see your location, select 'Other'"})]}),J?Object(c.jsxs)(f.a.Group,{className:"mb-3",children:[Object(c.jsx)(f.a.Label,{children:"Location"}),Object(c.jsx)(f.a.Control,{type:"text",placeholder:"Enter your location",name:"location",value:g.location,onChange:k})]}):null,H?null:Object(c.jsxs)(f.a.Group,{className:"mb-3",children:[Object(c.jsx)(f.a.Label,{children:"Looking For"}),Object(c.jsxs)(f.a.Select,{onChange:function(e){"Other"===e.target.value?q(!0):v(Object(C.a)(Object(C.a)({},g),{},{looking_for:e.target.value}))},children:[Object(c.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select the instrument you want to collaborate with"}),r.map((function(e){return Object(c.jsx)("option",{value:e.name,children:e.name})})),Object(c.jsx)("option",{children:"Other"})]}),Object(c.jsx)(f.a.Text,{className:"text-muted",children:"If you do not see the instrument you want to collaborate with, select 'Other'"})]}),H?Object(c.jsxs)(f.a.Group,{className:"mb-3",children:[Object(c.jsx)(f.a.Label,{children:"Looking For"}),Object(c.jsx)(f.a.Control,{type:"text",placeholder:"Enter the instrument you are looking for",name:"looking_for",value:g.looking_for,onChange:k}),Object(c.jsx)(f.a.Text,{className:"text-muted",children:"Enter the instrument you want to collaborate with"})]}):null,Object(c.jsx)(b.a,{variant:"primary",type:"submit",children:"Submit"})]})})},N=n(62),k=n(51);var T=function(e){var t=e.user;console.log(t);var n=Object(a.useState)(!1),s=Object(o.a)(n,2),r=(s[0],s[1]);return new w.a,Object(a.useEffect)((function(){r(!!t)}),[t]),Object(c.jsx)(k.a,{style:{color:"white"},expand:"lg",children:Object(c.jsxs)(N.a,{children:[Object(c.jsxs)(d.b,{to:"/",children:[" ",Object(c.jsx)(k.a.Brand,{style:{color:"white"},href:"",children:"Join The Band"})]}),Object(c.jsxs)(d.b,{to:"/profiles",children:[" ",Object(c.jsx)(k.a.Brand,{style:{color:"white"},children:"Profiles"})]}),Object(c.jsx)(k.a.Toggle,{"aria-controls":"basic-navbar-nav"})]})})};var E=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1],r=new w.a,l="https://join-the-band-api.herokuapp.com/",j=Object(a.useState)(!1),u=Object(o.a)(j,2),b=u[0],d=u[1];console.log(b),Object(a.useEffect)((function(){var e=r.get("user_id");fetch("".concat(l,"/lookup/").concat(e)).then((function(e){e.ok&&e.json().then((function(e){d(e)}))}))}),[]),Object(a.useEffect)((function(){fetch("".concat(l,"/me")).then((function(e){e.ok&&e.json().then((function(e){console.log(e)}))}))}),[]),Object(a.useEffect)((function(){fetch("".concat(l,"/users/")).then((function(e){return e.json()})).then((function(e){s(e)}))}),[]);var h=Object(a.useState)([]),m=Object(o.a)(h,2),x=m[0],p=m[1];Object(a.useEffect)((function(){fetch("".concat(l,"/genres")).then((function(e){return e.json()})).then((function(e){p(e)}))}),[]);var f=Object(a.useState)([]),g=Object(o.a)(f,2),v=g[0],S=g[1],C=Object(a.useState)([]),N=Object(o.a)(C,2),k=N[0],E=N[1];return Object(a.useEffect)((function(){fetch("".concat(l,"/instruments")).then((function(e){return e.json()})).then((function(e){S(e)}))}),[]),Object(a.useEffect)((function(){fetch("".concat(l,"/locations")).then((function(e){return e.json()})).then((function(e){E(e)}))}),[]),Object(c.jsx)("div",{children:Object(c.jsxs)("main",{children:[Object(c.jsx)(T,{user:b}),Object(c.jsx)(i.a,{exact:!0,path:"/",children:Object(c.jsx)(O,{user:b})}),Object(c.jsx)(i.a,{path:"/login",children:Object(c.jsx)(L,{user:b,setUser:d,baseURL:l,instruments:v,setInstruments:S,locations:k,setLocations:E,genres:x,setGenres:p,users:n,setUsers:s})}),Object(c.jsx)(i.a,{path:"/signup",children:Object(c.jsx)(_,{baseURL:l,instruments:v,setInstruments:S,locations:k,setLocations:E,genres:x,setGenres:p,users:n,setUsers:s})}),Object(c.jsx)(i.a,{path:"/profiles",children:Object(c.jsx)(y,{baseURL:l,genres:x,instruments:v,locations:k,users:n})})]})})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,83)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};n(75);r.a.render(Object(c.jsx)(d.a,{children:Object(c.jsx)(E,{})}),document.getElementById("root")),G()}},[[76,1,2]]]);
//# sourceMappingURL=main.51850f50.chunk.js.map